angular.module("de.cismet.crisma.widgets.scenarioListWidget.controllers",["de.cismet.crisma.widgets.scenarioListWidget.services","de.cismet.commons.angular.angularTools","de.cismet.crisma.widgets.configuration"]).controller("de.cismet.crisma.widgets.scenarioListWidget.controllers.ScenarioListWidgetController",["$scope","$injector","de.cismet.crisma.widgets.scenarioListWidget.services.ScenarioWorldstates","de.cismet.commons.angular.angularTools.AngularTools","DEBUG",function($scope,$injector,ScenarioWorldstates,AngularTools,DEBUG){"use strict";var initializeListeners;initializeListeners=function(){var shareService;if($injector.has("de.cismet.crisma.widgets.shared.SharedService")){if(DEBUG){console.log("shareservice available, attaching selectedWorldstatesChanged listener")}shareService=$injector.get("de.cismet.crisma.widgets.shared.SharedService");$scope.$on("selectedWorldstatesChanged",function(){$scope.selectedWorldstates=shareService.getSelectedWorldstates()});$scope.$watch("selectedWorldstates",function(n,o,s){if(typeof n==="undefined"){throw{name:"IllegalStateException",message:"selected worldstate undefined"}}if(o===n){return}shareService.setSelectedWorldstates($scope.selectedWorldstates)})}else{if(DEBUG){console.log("shareservice not available, not listening for selectedWorldstatesChanged")}}};initializeListeners();$scope.scenarioWorldstates=[];$scope.selectedWorldstates=[];ScenarioWorldstates.done(function(ws){AngularTools.safeApply($scope,function(){$scope.scenarioWorldstates=ws.$collection})})}]);angular.module("de.cismet.crisma.widgets.scenarioListWidget.directives",[]).directive("worldstateSelect",function(){"use strict";return{scope:{worldstates:"=",selectedWorldstates:"="},restrict:"E",templateUrl:"partials/worldstateSelector.html"}});angular.module("de.cismet.crisma.widgets.scenarioListWidget.services",["de.cismet.crisma.widgets.configuration"]).factory("de.cismet.crisma.widgets.scenarioListWidget.services.ScenarioWorldstates",["CRISMA_DOMAIN",function(CRISMA_DOMAIN){"use strict";return ci.getAllObjectsOfClass(CRISMA_DOMAIN,"worldstates",{fields:"id,name",filter:"childworldstates:\\[\\]"})}]);angular.module("tpltest",[]).run(["$templateCache",function($templateCache){$templateCache.put("partials/worldstateSelector.html","<div>"+'<select id="worldstate-selection-widget" multiple="true" size="10" data-ng-model="selectedWorldstates" '+'data-ng-options="ws.name for ws in worldstates" >'+"</select>"+"</div>")}]);angular.module("de.cismet.crisma.widgets.scenarioListWidget",["de.cismet.crisma.widgets.scenarioListWidget.directives","de.cismet.crisma.widgets.scenarioListWidget.services","de.cismet.crisma.widgets.scenarioListWidget.controllers","tpltest"]);